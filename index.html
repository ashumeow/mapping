<!DOCTYPE html>
<html>
  <head>
    <!--meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <!-- For Apple iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Mapping</title>
    <!-- header stylesheets -->
    <link rel="stylesheet" href="scripts/leaflet.css">
    <link rel="stylesheet" href="scripts/framework7.css">
    <link rel="stylesheet" href="scripts/custom-app.css">
    <link rel="stylesheet" href="scripts/app.css">
    <style>
    </style>
  </head>
  <body>
    <div class="panel-overlay"></div>

    <!-- Left panel with effect -->
    <div class="panel panel-left panel-reveal">
      <div class="content-block">
        <div class="content-block-title">San Francisco Hub-spots:</div>
        <div class="list-block">
          <ul id="fence-btns">
          <!-- mapping data points for San Francisco -->

           <li><a href="#" class="list-button item-link fence-btn" data-center="[37.800465, -122.467818]" data-points="[[37.803449, -122.450308], [37.800872, -122.447733], [37.791987, -122.446274], [37.788325, -122.465929], [37.787172, -122.465758], [37.787850, -122.484040], [37.789274, -122.483868], [37.790631, -122.486014],
           [37.811112, -122.477774], [37.811112, -122.476401], [37.809620, -122.475886], [37.808807, -122.470393], [37.807247, -122.468848], [37.805077, -122.463097], 
           [37.806772, -122.448248], [37.804670, -122.448506], [37.803449, -122.450308]]">Hub-1 (Presidio)</a></li>
            <li><a href="#" class="list-button item-link fence-btn" data-center="[37.803334, -122.437189]" data-points="[[37.803503, -122.450407], [37.804758, -122.448476], [37.806283, -122.448605], [37.807504, -122.447274], [37.808318, -122.440794], [37.808826, -122.439979], [37.807199, -122.439506], [37.807640, -122.435816],
           [37.806962, -122.435601], [37.807029, -122.434271], [37.805741, -122.433756], [37.806148, -122.432297], [37.808521, -122.432640], [37.809267, -122.430108], 
           [37.807945, -122.429850], [37.808793, -122.427361], [37.806521, -122.425645],
           [37.797671, -122.423842], [37.794788, -122.446759], [37.800824, -122.447746], [37.802520, -122.449892], [37.803503, -122.450407]
           ]">Hub-2 (Marina)</a></li>
            <li><a href="#" class="list-button item-link fence-btn" data-center="[37.779778, -122.418845]" data-points="[[37.777913, -122.423222], [37.778048, -122.421634], [37.781915, -122.422321], [37.782797, -122.414124], [37.781067, -122.413652], [37.781067, -122.413180], [37.780465, -122.412536], [37.780465, -122.412536], [37.773096, -122.422278], [37.777913, -122.423222]
           ]">Hub-3 (Downtown)</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Right panel with cover effect -->
    <div class="panel panel-right panel-cover">
      <div class="content-block">
        <div id="log"></div>
      </div>
    </div>

    <!-- Views -->
    <div class="views">
      <div class="view view-main">
        <div class="navbar">
          <div class="navbar-inner">
            <div class="center sliding">San Francisco - Map Locator</div>
          </div>
        </div>

        <div class="pages navbar-through toolbar-through">
          <div data-page="index" class="page">
            <div class="page-content">
              <div id="map"></div>

              <div class="content-block-title"></div>

              <div class="content-block">
                <div class="content-block">
                  <div class="buttons-row">
                    <a href="#" class="button" id="watch">Start</a>
                    <a href="#" class="button" id="clear">Reset</a>
                    <a href="#" class="button open-popup" data-popup=".popup" id="export">Export</a>
                  </div>

                  <table class="stats">
                    <tr>
                      <td class="field">Timestamp:</td>
                      <td class="value" colspan="4"><span id="stat_timestamp"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Latitude:</td>
                      <td class="value"><span id="stat_latitude"></span></td>
                      <td class="gutter"></td>
                      <td class="field">Accuracy:</td>
                      <td class="value"><span id="stat_accuracy"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Longitude:</td>
                      <td class="value"><span id="stat_longitude"></span></td>
                      <td class="gutter"></td>
                      <td class="field">Altitude:</td>
                      <td class="value"><span id="stat_altitude"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Speed:</td>
                      <td class="value"><span id="stat_speed"></span></td>
                      <td class="gutter"></td>
                      <td class="field">Heading:</td>
                      <td class="value"><span id="stat_heading"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Distance:</td>
                      <td class="value"><span id="stat_distance"></span></td>
                      <td class="gutter"></td>
                      <td class="field">Time:</td>
                      <td class="value"><span id="stat_elapsed"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Zoom:</td>
                      <td class="value"><span id="stat_zoom"></span></td>
                      <td class="gutter"></td>
                      <td class="field">Geofence:</td>
                      <td class="value"><span id="stat_geofence"></span></td>
                    </tr>
                    <tr>
                      <td class="field">Screen:</td>
                      <td class="value"><span id="stat_screen"></span></td>
                      <td class="gutter"></td>
                      <td class="field"></td>
                      <td class="value"></td>
                    </tr>
                    <tr>
                      <td class="field"></td>
                      <td class="value"></td>
                      <td class="gutter"></td>
                      <td class="field"></td>
                      <td class="value"></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom Toolbar -->
        <div class="toolbar">
          <div class="toolbar-inner">
            <a href="#" class="open-panel">Options</a>
            <a href="#" class="open-panel" data-panel="right">Debug</a>
        </div>
        </div>
      </div>
    </div>

    <!-- Popup -->
    <div class="popup">
      <div class="view navbar-fixed">
        <div class="page">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="center">Export CSV</div>
              <div class="right"><a href="#" class="link close-popup">Done</a></div>
            </div>
          </div>
          <div class="page-content">
            <div class="content-block">
              <a href="#" class="button active" id="email">Email</a><br>
              <input type="email" class="exportValue" id="email-to" value="" placeholder="Enter your desired Recipient email address"><br>
              <input type="text" class="exportValue" id="email-subject" value="Geofence Export" placeholder="Subject"><br>
              <br>
              <div id="export-csv">
                <!-- dyanmic content -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="local:///chrome/webworks.js"></script>
    <script type="text/javascript" src="scripts/framework7.js"></script>
    <script type="text/javascript" src="scripts/custom-app.js"></script>
    <script src="scripts/leaflet.js"></script>
    <script src="scripts/leaflet-pip.min.js"></script>
    <script src="scripts/flyjsonp.min.js"></script>
    <script src="scripts/app.js"></script>
    <script>
    // add load events
    if (navigator.userAgent.match(/WebWorks-BB10/)) {
        window.addEventListener('load', function(e) {
            document.addEventListener('webworksready', app.init);
        }, false);
    }
    else {
        window.addEventListener('load', app.init);
    }
    </script>
  </body>
</html>